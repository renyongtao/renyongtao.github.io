<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=0">
		<title>信息录入</title>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/element-ui@2.13.2/lib/theme-chalk/index.css">
		<link rel="stylesheet" href="css/main.css?v=1.3" />
	</head>
	<body>
		<el-container id="collectinfo">
		<el-form ref="formCollect" :model="form" label-width="80px">
			<el-form-item label="姓名:">
			   <el-input v-model="form.name"></el-input>
			 </el-form-item>
			<el-form-item label="手机号:">
				 <el-input v-model="form.mobile"></el-input>
		    </el-form-item>
			<el-form-item>
			   <el-button type="primary" @click="onSubmit">立即预约</el-button>
			   <el-button @click="onCancle">取消预约</el-button>
			</el-form-item>
		</el-form>
	</el-container>
	</body>
	<script src="https://cdn.jsdelivr.net/npm/vue@2.6.11/dist/vue.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/element-ui@2.13.2/lib/index.js"></script>
	<script>
		new Vue({
			el:"#collectinfo",
			data:{
				form:{
					name:"",
					mobile:"",
					},
				rules:{
					name:[
						{ required: true, 
							message: '用户名不能为空',
							trigger: 'blur' ,
						}
					]
				}
			},
		methods: {
		  onSubmit() {
			var _info={};
			_info.name=this.form.name;
			_info.mobile=this.form.mobile;
			  if(this._validInfo(_info)){
				  alert("预约成功");
			  }else{
				  return false;
			  }
			
		  },
		  _validInfo(info){
			  if(info){
				  if(info.name==''){
					  alert("姓名不能为空");
					  return false;
				  }
				  if(info.mobile==''){
					  alert("手机号码不能为空");
					  return false;
				  }
				  if(!/^((0\d{2,3}-\d{7,8})|(((13[0-9])|(14[5,7])|(15[0-3,5-9])|(17[0-9])|(18[0-9])|166|198|199|191)\d{8}))$/i.test(info.mobile)){
					  alert("请输入正确的手机号码");
					  return false;
				  }
				  return true;
			  }else{
				  return false;
			  }
		  },
		  onCancle(){
			  console.log('cancle!');
		  }
    }
		})
	</script>
</html>
